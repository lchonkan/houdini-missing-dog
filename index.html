<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Se Busca Houdini - Perrita Perdida en Los Yoses, Costa Rica</title>
    <meta name="description" content="Ayuda a encontrar a Houdini, perrita perdida en Los Yoses, Montes de Oca. √öltima vista: Lunes 29 a la 1:00 a.m. Contacto: +506 84183507">
    <meta name="keywords" content="perro perdido, houdini, los yoses, montes de oca, costa rica, mascota perdida">
    <meta name="author" content="Leo Chonkan">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Se Busca Houdini - Perrita Perdida">
    <meta property="og:description" content="Ayuda a encontrar a Houdini, perrita perdida en Los Yoses, Montes de Oca. Contacto: +506 84183507">
    <meta property="og:image" content="IMG_1003 (1).jpeg">
    <meta property="og:url" content="https://houdini-missing-dog.vercel.app">
    <meta property="og:site_name" content="B√∫squeda de Houdini">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:title" content="Se Busca Houdini - Perrita Perdida">
    <meta property="twitter:description" content="Ayuda a encontrar a Houdini, perrita perdida en Los Yoses, Montes de Oca. Contacto: +506 84183507">
    <meta property="twitter:image" content="IMG_1003 (1).jpeg">
    
    <!-- Favicon -->
    <link rel="icon" type="image/jpeg" href="IMG_1003 (1).jpeg">
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <!-- Configuration -->
    <script src="config.js"></script>
    
    <!-- Vercel Analytics & Speed Insights -->
    <script>
        // Only load analytics in production (Vercel environment)
        if (window.location.hostname !== 'localhost' && window.location.hostname !== '127.0.0.1') {
            window.va = window.va || function () { (window.vaq = window.vaq || []).push(arguments); };
            const analyticsScript = document.createElement('script');
            analyticsScript.src = 'https://unpkg.com/@vercel/analytics@latest/dist/index.js';
            analyticsScript.defer = true;
            document.head.appendChild(analyticsScript);
            
            const speedInsightsScript = document.createElement('script');
            speedInsightsScript.src = 'https://unpkg.com/@vercel/speed-insights@latest/dist/index.js';
            speedInsightsScript.defer = true;
            document.head.appendChild(speedInsightsScript);
        }
    </script>
    
    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "B√∫squeda de Houdini",
        "description": "Ayuda a encontrar a Houdini, perrita perdida en Los Yoses, Montes de Oca, Costa Rica",
        "url": "https://houdini-missing-dog.vercel.app",
        "contactPoint": {
            "@type": "ContactPoint",
            "telephone": "+506-84183507",
            "contactType": "WhatsApp",
            "availableLanguage": "Spanish"
        },
        "sameAs": [
            "https://instagram.com/leo.chonkan"
        ]
    }
    </script>
    
    <style>
        .placeholder-image {
            background: linear-gradient(135deg, #333333 0%, #555555 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #cccccc;
            font-size: 1.2rem;
            text-align: center;
            border: 2px dashed #666666;
        }
        .placeholder-image::before {
            content: "üì∑ Foto de Houdini";
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="container">
            <h1 class="title">SE BUSCA HOUDINI</h1>
            <p class="subtitle">Perrita perdida en Los Yoses, San Jos√©</p>
            <p class="contact-info"><a href="https://wa.me/50684183507" target="_blank">üì± +506 8418-3507</a></p>
        </div>
    </header>

    <main class="main">
        <div class="container">
            <!-- Map Section - PRIMERO -->
            <section class="map-section">
                <div class="map-container">
                    <div id="map"></div>
                    
                    <!-- Timeline Section -->
                    <div class="timeline-section">
                        <h4>Cronolog√≠a de Eventos</h4>
                        <div class="timeline">
                            <div class="timeline-item">
                                <div class="timeline-number">1</div>
                                <div class="timeline-content">
                                    <h5>üè† Casa de Houdini</h5>
                                    <p><strong>Domingo 28 - 11:50 p.m.</strong></p>
                                    <p>Houdini se escap√≥ de casa. Este es el punto de partida de la b√∫squeda.</p>
                                </div>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-number">2</div>
                                <div class="timeline-content">
                                    <h5>üìç √öltima Vez Vista</h5>
                                    <p><strong>Lunes 29 - 1:00 a.m.</strong></p>
                                    <p>√öltima vez que alguien report√≥ haber visto a Houdini. Solo 1 hora y 10 minutos despu√©s de haberse escapado.</p>
                                </div>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-number">3</div>
                                <div class="timeline-content">
                                    <h5>üö® Guarda que Avis√≥</h5>
                                    <p><strong>Lunes 29 - 2:00 a.m.</strong></p>
                                    <p>Una muchacha le dijo al guarda que ten√≠a a Houdini y le di√≥ el n√∫mero para que la llamara. El guarda le dijo esto a una se√±ora. El guarda apunt√≥ mal el n√∫mero de la muchacha.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Contact Section - SEGUNDO -->
            <section class="contact-section">
                <h3>¬øHas visto a Houdini?</h3>
                <p class="contact-subtitle">No se har√°n preguntas, contacta a mi familia</p>
                
                    <div class="contact-buttons">
                        <a href="https://wa.me/50684183507" class="contact-btn whatsapp" target="_blank">
                            <span class="btn-icon">üì±</span>
                            <span class="btn-text">
                                <strong>WhatsApp</strong>
                                <small>+506 8418-3507</small>
                            </span>
                        </a>
                    </div>
            </section>

            <!-- Status Section - TERCERO (RESUMIDO) -->
            <section class="status-section">
                <h3>Estado de la B√∫squeda</h3>
                <div class="status-summary">
                    <div class="status-item-summary">
                        <span class="status-icon">üîç</span>
                        <span class="status-text">B√∫squeda activa en San Jos√©</span>
                    </div>
                    <div class="status-item-summary">
                        <span class="status-icon">üì¢</span>
                        <span class="status-text">Posters distribuidos</span>
                    </div>
                    <div class="status-item-summary">
                        <span class="status-icon">üë•</span>
                        <span class="status-text">Comunidad ayudando</span>
                    </div>
                </div>
            </section>

            <!-- Hero Section - CUARTO -->
            <section class="hero">
                <div class="hero-content">
                    <div class="dog-photos">
                        <div class="carousel-container">
                            <div class="carousel">
                                <div class="carousel-slide active">
                                    <img src="IMG_1003 (1).jpeg" alt="Houdini - Perrita perdida" class="carousel-image">
                                </div>
                                <div class="carousel-slide">
                                    <img src="IMG_0994.jpeg" alt="Houdini de pie" class="carousel-image">
                                </div>
                                <div class="carousel-slide">
                                    <img src="IMG_0995.jpeg" alt="Houdini acostada" class="carousel-image">
                                </div>
                                <div class="carousel-slide">
                                    <img src="IMG_0996.jpeg" alt="Houdini adicional" class="carousel-image">
                                </div>
                            </div>
                            <div class="carousel-controls">
                                <button class="carousel-btn prev" onclick="changeSlide(-1)">‚Äπ</button>
                                <div class="carousel-dots">
                                    <span class="dot active" onclick="currentSlide(1)"></span>
                                    <span class="dot" onclick="currentSlide(2)"></span>
                                    <span class="dot" onclick="currentSlide(3)"></span>
                                    <span class="dot" onclick="currentSlide(4)"></span>
                                </div>
                                <button class="carousel-btn next" onclick="changeSlide(1)">‚Ä∫</button>
                            </div>
                        </div>
                    </div>
                    <div class="hero-info">
                        <h2>HOUDINI</h2>
                        <p class="description">Perrita de color dorado claro, tama√±o mediano, muy nerviosa. Se perdi√≥ en la zona de Los Yoses, Montes de Oca.</p>
                        <div class="reward-badge">
                            <span>RECOMPENSA</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Dog Details Section -->
            <section class="details-section">
                <h3>Caracter√≠sticas de Houdini</h3>
                <div class="details-grid">
                    <div class="detail-item">
                        <h4>Apariencia</h4>
                        <ul>
                            <li>Color dorado claro/tan</li>
                            <li>Pelaje ondulado y esponjoso</li>
                            <li>Tama√±o mediano</li>
                            <li>Collar negro con anillo plateado</li>
                        </ul>
                    </div>
                    <div class="detail-item">
                        <h4>Comportamiento</h4>
                        <ul>
                            <li>Muy nerviosa</li>
                            <li>Puede estar asustada</li>
                            <li>Responde al nombre "Houdini"</li>
                        </ul>
                    </div>
                    <div class="detail-item">
                        <h4>Ubicaciones Importantes</h4>
                        <ul>
                            <li><strong>Guarda que avis√≥:</strong> WWHQ+26 San Jos√©</li>
                            <li><strong>√öltima vez vista:</strong> WWJP+862, Av. 6</li>
                            <li>Francisco Peralta, San Jos√©</li>
                        </ul>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Fixed Contact Button -->
    <div class="fixed-contact-btn">
        <a href="https://wa.me/50684183507" class="contact-btn-fixed whatsapp" target="_blank">
            <span class="btn-icon">üì±</span>
        </a>
    </div>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 - Se Busca Houdini. Todos los derechos reservados.</p>
            <p class="footer-note">Si encuentras a Houdini, por favor cont√°ctanos inmediatamente.</p>
        </div>
    </footer>

    <!-- Google Maps Script -->
    <script>
        function initMap() {
            // Usar configuraci√≥n externa
            const locations = window.config.locations;
            const casaHoudini = { lat: locations.casaHoudini.lat, lng: locations.casaHoudini.lng };
            const guardaAviso = { lat: locations.guardaAviso.lat, lng: locations.guardaAviso.lng };
            const ultimaVista = { lat: locations.ultimaVista.lat, lng: locations.ultimaVista.lng };
            
            // Centro del mapa entre los tres puntos
            const mapCenter = {
                lat: (casaHoudini.lat + guardaAviso.lat + ultimaVista.lat) / 3,
                lng: (casaHoudini.lng + guardaAviso.lng + ultimaVista.lng) / 3
            };
            
            const map = new google.maps.Map(document.getElementById("map"), {
                zoom: 14,
                center: mapCenter,
                mapTypeId: 'roadmap',
                mapTypeControl: true,
                mapTypeControlOptions: {
                    style: google.maps.MapTypeControlStyle.HORIZONTAL_BAR,
                    position: google.maps.ControlPosition.TOP_CENTER,
                    mapTypeIds: ['roadmap', 'satellite', 'hybrid']
                }
            });

            // Marcador 1: Casa de Houdini - donde se escap√≥
            const casaHoudiniMarker = new google.maps.Marker({
                position: casaHoudini,
                map: map,
                title: "Casa de Houdini",
                label: {
                    text: "1",
                    color: "#ffffff",
                    fontSize: "14px",
                    fontWeight: "bold"
                }
            });

            const casaHoudiniInfo = new google.maps.InfoWindow({
                content: '<div style="color: #000; padding: 12px; text-align: center;"><h3 style="margin: 0 0 8px 0; color: #ff4444;">üè† CASA DE HOUDINI</h3><p style="margin: 0 0 5px 0;"><strong>Punto de escape</strong></p><p style="margin: 0; font-size: 12px; line-height: 1.4;">Houdini se escap√≥ de aqu√≠ el Domingo 28 a las 11:50 p.m.<br>Este es el punto de partida de la b√∫squeda.</p><p style="margin: 5px 0 0 0; font-size: 11px; color: #666;">Coordenadas: 9.928878068653097, -84.06341474867753</p></div>'
            });

            casaHoudiniMarker.addListener('click', function() {
                casaHoudiniInfo.open(map, casaHoudiniMarker);
            });

            // Marcador 3: Guarda que avis√≥
            const guardaMarker = new google.maps.Marker({
                position: guardaAviso,
                map: map,
                title: "Guarda que avis√≥",
                label: {
                    text: "3",
                    color: "#ffffff",
                    fontSize: "14px",
                    fontWeight: "bold"
                }
            });

            const guardaInfo = new google.maps.InfoWindow({
                content: '<div style="color: #000; padding: 12px; text-align: center;"><h3 style="margin: 0 0 8px 0; color: #ff4444;">üö® GUARDA QUE AVIS√ì</h3><p style="margin: 0 0 5px 0;"><strong>Lunes 29 - 2:00 a.m.</strong></p><p style="margin: 0; font-size: 12px; line-height: 1.4;">Una muchacha le dijo al guarda que ten√≠a a Houdini y le di√≥ el n√∫mero para que la llamara. El guarda le dijo esto a una se√±ora. El guarda apunt√≥ mal el n√∫mero de la muchacha.</p><p style="margin: 5px 0 0 0; font-size: 11px; color: #666;">WWHQ+26 San Jos√©, San Jos√© Province</p></div>'
            });

            guardaMarker.addListener('click', function() {
                guardaInfo.open(map, guardaMarker);
            });

            // Marcador 2: √öltima vez vista
            const ultimaVistaMarker = new google.maps.Marker({
                position: ultimaVista,
                map: map,
                title: "√öltima vez vista",
                label: {
                    text: "2",
                    color: "#ffffff",
                    fontSize: "14px",
                    fontWeight: "bold"
                }
            });

            const ultimaVistaInfo = new google.maps.InfoWindow({
                content: '<div style="color: #000; padding: 12px; text-align: center;"><h3 style="margin: 0 0 8px 0; color: #ff4444;">üìç √öLTIMA VEZ VISTA</h3><p style="margin: 0 0 5px 0;"><strong>Lunes 29 a la 1:00 a.m.</strong></p><p style="margin: 0; font-size: 12px; line-height: 1.4;">Esta fue la √∫ltima vez que alguien report√≥ haber visto a Houdini en esta zona. Solo 1 hora y 10 minutos despu√©s de haberse escapado de casa.</p><p style="margin: 5px 0 0 0; font-size: 11px; color: #666;">WWJP+862, Av. 6, San Jos√©, Francisco Peralta</p></div>'
            });

            ultimaVistaMarker.addListener('click', function() {
                ultimaVistaInfo.open(map, ultimaVistaMarker);
            });

            // L√≠nea conectora entre los tres puntos (ruta de escape de Houdini)
            const flightPath = new google.maps.Polyline({
                path: [casaHoudini, ultimaVista, guardaAviso],
                geodesic: true,
                strokeColor: "#ff4444",
                strokeOpacity: 0.8,
                strokeWeight: 4,
                icons: [{
                    icon: {
                        path: google.maps.SymbolPath.FORWARD_CLOSED_ARROW,
                        scale: 4,
                        strokeColor: "#ff4444",
                        fillColor: "#ff4444",
                        fillOpacity: 1
                    },
                    offset: '50%',
                    repeat: '200px'
                }]
            });
            flightPath.setMap(map);

            // C√≠rculo de b√∫squeda de 1.5 km alrededor del punto 1
            const searchRadius = new google.maps.Circle({
                strokeColor: "#00ff00",
                strokeOpacity: 0.8,
                strokeWeight: 3,
                fillColor: "#00ff00",
                fillOpacity: 0.15,
                map: map,
                center: casaHoudini,
                radius: 1500 // 1.5 km en metros
            });
        }
    </script>
    <script>
        // Carrusel de fotos
        let currentSlideIndex = 0;
        const slides = document.querySelectorAll('.carousel-slide');
        const dots = document.querySelectorAll('.dot');
        const totalSlides = slides.length;

        function showSlide(index) {
            // Ocultar todas las slides
            slides.forEach(slide => slide.classList.remove('active'));
            dots.forEach(dot => dot.classList.remove('active'));
            
            // Mostrar slide actual
            if (index >= totalSlides) currentSlideIndex = 0;
            if (index < 0) currentSlideIndex = totalSlides - 1;
            
            slides[currentSlideIndex].classList.add('active');
            dots[currentSlideIndex].classList.add('active');
        }

        function changeSlide(direction) {
            currentSlideIndex += direction;
            showSlide(currentSlideIndex);
        }

        function currentSlide(index) {
            currentSlideIndex = index - 1;
            showSlide(currentSlideIndex);
        }

        // Auto-play del carrusel cada 5 segundos
        setInterval(() => {
            changeSlide(1);
        }, 5000);

        // Cargar Google Maps con API Key desde configuraci√≥n
        const apiKey = window.getGoogleMapsAPIKey();
        const script = document.createElement('script');
        script.src = `https://maps.googleapis.com/maps/api/js?key=${apiKey}&callback=initMap`;
        script.async = true;
        script.defer = true;
        document.head.appendChild(script);
        

    </script>
    <script defer src="/_vercel/insights/script.js"></script>
    <script>
        window.si = window.si || function () { (window.siq = window.siq || []).push(arguments); };
      </script>
      <script defer src="/_vercel/speed-insights/script.js"></script>
</body>
</html>